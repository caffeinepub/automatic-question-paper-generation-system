{
  "kind": "build_request",
  "title": "Allow non-admin (Teacher) users to add subjects",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Remove the admin-only restriction on the 'add subject' operation so that all authenticated users (including Teacher role) can add subjects. The backend currently rejects subject creation with 'Unauthorized: Only admins can add subjects' for non-admin principals â€” this restriction should be lifted so any logged-in user can create subjects.",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "subject should add",
          "Unauthorized: Only admins can add subjects"
        ]
      },
      "acceptanceCriteria": [
        "A logged-in Teacher user can successfully add a subject via the Add Subject dialog without receiving an 'Unauthorized' error.",
        "The subject is persisted after submission and appears in the Subjects list.",
        "Admin users retain the ability to add subjects as before."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update the SubjectManager frontend component to remove any UI-level guard or messaging that implies only admins can add subjects, so Teacher users see the Add Subject form and button without restriction.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Unauthorized: Only admins can add subjects"
        ]
      },
      "acceptanceCriteria": [
        "The 'Add Subject' button is visible and enabled for Teacher-role users.",
        "No 'only admins' warning or disabled state is shown to non-admin authenticated users.",
        "The Add Subject dialog opens and submits successfully for Teacher users."
      ]
    }
  ],
  "constraints": [
    "Do not change the Subject data model (name and code fields only).",
    "Do not modify files listed in frontend.immutablePaths."
  ],
  "nonGoals": [
    "Adding new fields to the Subject form.",
    "Changing any other role-based access controls beyond subject creation.",
    "Modifying question or paper generation permissions."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}